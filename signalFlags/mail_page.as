package com.mobile.signalFlags {		import flash.display.MovieClip;	import flash.events.Event;		public class mail_page extends MovieClip {		public var data:Object = new Object;				public function mail_page() {			// constructor code			this.addEventListener(Event.ADDED_TO_STAGE, init);		}				public function set config(c:XML):void		{						this.rightPage.cfg = new XML(c.page.pageRight);			this.leftPage.cfg = new XML(c.page.pageLeft);		}				private function init(e:Event):void		{			this.removeEventListener(Event.ADDED_TO_STAGE, init);			leftPage.addEventListener("emailError", errorHandler);			leftPage.addEventListener("emailCorrect", removeError);			leftPage.addEventListener("emailComplete", mailCompleteHandler);		}				private function errorHandler(e:Event):void		{			(!rightPage.isOn) ? rightPage.swingOn() : null;		}				private function removeError(e:Event):void		{			(rightPage.isOn) ?  rightPage.swingOff() : null;		}				private function mailCompleteHandler(e:Event):void		{			leftPage.addEventListener("offStage", completeHandler);			leftPage.swingOff();		}				private function completeHandler(e:Event):void		{			data = leftPage.data; 			leftPage.removeEventListener("offStage", completeHandler);			this.dispatchEvent(new Event("mailComplete"));		}			}	}
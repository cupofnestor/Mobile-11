package com.mobile.signalFlags {		import flash.display.MovieClip;	import flash.events.Event;		public class dict_page extends MovieClip {		private var flag,flName,flKey,flDef,flTwo,flThree:String;		public var flID:Number;		private var xDefXML;		private var numPagesOff:Number = 0;		public var cfg:XML = new XML();						public function dict_page(_cfg:XML) {			// constructor code			cfg=_cfg;			this.cacheAsBitmap = true;			addEventListener(Event.ADDED_TO_STAGE,init);		}				private function init(e:Event):void{			leftPage.swingOn();			rightPage.swingOn();		}				public function off():void		{			leftPage.addEventListener("offStage", pagesOffHandler);			rightPage.addEventListener("offStage", pagesOffHandler);			leftPage.swingOff();			rightPage.swingOff();		}				private function pagesOffHandler(e:Event):void		{			numPagesOff++;			var _ds:dict_sect = e.target as dict_sect;			_ds.removeEventListener("offStage", pagesOffHandler);			(numPagesOff == 2) ? dispatchEvent(new Event("pagesOff")) : null;		}								public function set def(val:XML)		{			xDefXML = val;			parseDef();					}				private function parseDef():void		{			flag = xDefXML.flag.toString();			flKey = xDefXML.key.toString();			flName = xDefXML.name.toString();			flDef = xDefXML.definition.toString();			flTwo = xDefXML.two_flags.toString();			flThree = xDefXML.three_flags.toString();			flID=Number(xDefXML.id.toString());			setupPage();		}				private function setupPage():void		{			//parseTwo();			//parseThree();			//parseThree();			leftPage.cfg = new XML(cfg.pageLeft);			rightPage.cfg = new XML(cfg.pageRight);			leftPage.setup(flKey,flName,flDef);			rightPage.setup(flTwo,flThree);		}					}	}
package com.mobile.signalFlags {		import flash.display.MovieClip;	import flash.display.Bitmap;	import flash.display.BitmapData;	import flash.display.PixelSnapping;	import caurina.transitions.*;	import flash.events.*;	import flash.geom.Matrix;	public class finished_card extends MovieClip {		var image:Bitmap;		var bigBMD:BitmapData;		var iX,iY,iR,tX,tY,tR;		var tween:String = "easeInSine";		public function finished_card(bmd:BitmapData) {			// constructor code			bigBMD=bmd.clone();			addEventListener(Event.ADDED_TO_STAGE, init);					}				public function init(e:Event):void		{			tX=stage.stageWidth;			tY=0;			iX=tX+this.width;			iY=tY-this.width;			tR=0;			iR=tR-90;			addImage();			this.x=iX;			this.y=iY;			this.rotation=iR;			on();					}				private function addImage():void		{			var fw:Number = frame_window.width;			var bmdw:Number = bigBMD.width;			var scale:Number = frame_window.width/bigBMD.width;			var matrix:Matrix = new Matrix();			matrix.scale(scale, scale);			var smallBMD:BitmapData = new BitmapData(bigBMD.width * scale, bigBMD.height * scale, true, 0x000000);			smallBMD.draw(bigBMD, matrix, null, null, null, true);			var image:Bitmap = new Bitmap(smallBMD, PixelSnapping.NEVER, true);						frame_window.addChild(image);					}				public function on():void		{			animate(tX,tY,tR,"cardOn");		}		public function off():void		{			animate(iX,iY,iR,"cardOff");					}				private function animate(_tX:Number,_tY:Number,_tR:Number,animMode:String):void		{			Tweener.addTween(this, {				y:_tY,				x:_tX,				rotation:_tR,				delay: 0,				transition:tween,				time:1,				onComplete:animComplete,				onCompleteParams:[animMode]});		}				private function animComplete(_animMode:String):void		{			(_animMode == "paperOn") ? null : null;			dispatchEvent(new Event(_animMode));		}	}	}
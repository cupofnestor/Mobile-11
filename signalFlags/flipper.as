package com.mobile.signalFlags {	import caurina.transitions.*;	import flash.display.MovieClip;	import flash.events.*;	import com.nestor.elements.btn;		public class flipper extends MovieClip {		var aR:Array = [-90,0,90];		var aS:Array = [0.6,1,0.6];		var numstates; //number of states (in arrays);		var stageStateI = 1;  //state which card is visible		var t:Number = 0.5; // 1/4 flip time.		var myBtn:btn;		public var i:Number=1;				public function flipper(iState:Number) {			// constructor code			i=iState;			numstates = aR.length;			trace("::FLIPPER:: NEW :: iState = "+iState);			this.addEventListener(Event.ADDED_TO_STAGE, init);					}						private function btnHandler(e:Event):void		{			dispatchEvent(new Event ("flipMe",true));		}				private function init(e:Event):void		{			myBtn.addEventListener("btnUp",btnHandler);			this.removeEventListener(Event.ADDED_TO_STAGE, init);			this.rotationY = aR[i];			this.scaleX=this.scaleY = aS[i];			trace("::FLIPPER:: Rotation: "+this.rotationY);			//center();		}				public function flipOn():void		{			trace("::FLIPPER:: FlipOn");			i=1;			var tR:Number = aR[i];			var tS = aS[i];			Tweener.addTween(this,{scaleY:tS,scaleX:tS,time:t,delay:t, transition:"easeOutSine"});			Tweener.addTween(this,{rotationY:tR,time:t,delay:t, transition:"easeInOutCubic"});		}				public function flipOff():void		{			trace("::FLIPPER:: FlipOff");			i=2;			var tR = aR[i];			var tS = aS[i];			Tweener.addTween(this,{scaleY:tS,scaleX:tS, time:t, transition:"easeInSine"});			Tweener.addTween(this,{rotationY:tR,time:t, transition:"easeInOutCubic",onComplete:offComplete});		}								public function offComplete():void		{									dispatchEvent (new Event("flipComplete"));			i=0;			this.rotationY = aR[i];		}	}	}
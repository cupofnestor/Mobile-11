package com.mobile.signalFlags {		import flash.display.MovieClip;	import caurina.transitions.*;	import flash.events.Event;	import flash.events.TimerEvent;	import flash.utils.Timer;	import flash.net.URLLoader;	import flash.net.URLRequest;	import flash.text.StyleSheet;	import fl.text.TLFTextField;	public class paper extends MovieClip {				var tX:Number=68;		var tY:Number=72;		var iX:Number;		var iY:Number;		var tR:Number=0;		var iR:Number = 90;		var tween:String = "easeInSine";		///set in config		var field:TLFTextField; 		var bgImg:MovieClip; 		var hPadding:Number = 90;		var H:String;		var B:String;		var tout:Timer;		var exit:Boolean;		var cssLdr:URLLoader;		private var sheet:StyleSheet = new StyleSheet();				public function paper(_B:String="body text",_tout:Number=2000, _exit:Boolean = true) {			// constructor code									exit=_exit;			trace("New Paper");			//H=_H;			B=_B;			cacheAsBitmap = true;				addEventListener(Event.ADDED_TO_STAGE,init);			tout=new Timer(_tout,1);						(exit == true) ? tout.addEventListener(TimerEvent.TIMER_COMPLETE,timeout) : null;					}				private function init(e:Event):void		{			iX = -this.width;			iY= -this.height;			this.x=iX;			this.y=iY;			this.rotation=iR;			field = this.paper_text_mc.paper_body;			bgImg = this.texture;			setStyles();					}				private function setStyles():void		{			var headerFont:bask_med = new bask_med();			var bodyFont:bask_body = new bask_body();			var boldFont:bask_body_bold = new bask_body_bold();						var paperHeader:Object = {fontFamily:headerFont.fontName, fontSize:25, fontWeight: "bold", letterSpacing: -1, textIndent:-10};			var paperBody:Object = {textIndent: 300, fontFamily:bodyFont.fontName, fontStyle:"italic", fontSize :18, textIndent:-10};			var bold:Object = {fontFamily:boldFont.fontName, fontWeight: "bold"};						sheet.setStyle(".header", paperHeader);			sheet.setStyle(".body", paperBody);			sheet.setStyle(".bold", bold);						field.condenseWhite = true;			field.embedFonts=true;			field.styleSheet = sheet;						stylesReady()		}				private function stylesReady():void		{			           						//this.paper_text_mc.paper_header.htmlText=H;			field.htmlText=B;			var tH:Number = field.textHeight;			bgImg.height = tH + hPadding;			//this.paper_text_mc.texture.height = this.paper_text_mc.paper_body.textHeight + hPadding;			on();		}							private function timeout(t:TimerEvent):void		{			tout.removeEventListener(TimerEvent.TIMER_COMPLETE,timeout);			off();		}						public function on():void		{			animate(tX,tY,tR,"paperOn");		}		public function off():void		{			animate(iX,iY,iR,"paperOff");					}				private function animate(_tX:Number,_tY:Number,_tR:Number,animMode:String):void		{			Tweener.addTween(this, {				y:_tY,				x:+tX,				rotation:_tR,				delay: 0,				transition:tween,				time:1,				onComplete:animComplete,				onCompleteParams:[animMode]});		}				private function animComplete(_animMode:String):void		{			(_animMode == "paperOn") ? tout.start() : null;			dispatchEvent(new Event(_animMode));		}	}	}
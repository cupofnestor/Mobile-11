package com.mobile.GulfLinks {		import wck.*;	import com.nestor.tools.cfgloader;	import flash.events.Event;		public class main extends wck.WCK {		private var cLdr:cfgloader;		private var fLdr:feedLoader = new feedLoader();		private var cfg:XML;		private var manager:metaManager;				public function main() {			// constructor code			addEventListener(Event.ADDED_TO_STAGE, init);			cLdr = new cfgloader("config.xml");			cLdr.addEventListener(Event.COMPLETE, cfgLoaded);		}				private function init(e:Event):void		{						manager = new metaManager(this.wckWorld, this.link_list);		}				//once config is loaded, get a copy and nullify the loader		private function cfgLoaded(e:Event):void		{			cLdr.removeEventListener(Event.COMPLETE, cfgLoaded);			cfg = cLdr.cfg;			cLdr = null;			getFeed();		}				private function getFeed():void		{			fLdr.cfg = new XML(cfg.feedLoader);			fLdr.addEventListener(Event.COMPLETE, feedLoaded);		}				private function feedLoaded(e:Event):void		{									manager.addEventListener("loadComplete", setupStage);			manager.feed = fLdr.feed;								}		//pass appropriate config to stage item(s)		private function setupStage(e:Event):void		{			trace("MAIN received listComplete, adding tags")			//manager.addTags(["environment","pollution","oil"]);			manager.testCollection("pollution");		}	}	}